---
layout: post
title: Redis Object Cache for WordPress
date: 2014-03-31 08:00:45.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Technology
tags:
- Batcache
- Memcached
- object cache
- page cache
- performance
- Redis
- WordPress
meta:
  _edit_last: '2'
  _pushup-notifications-push-setting: a:2:{s:4:"time";d:1396299542;s:6:"status";s:6:"pushed";}
  _wpas_mess: Redis Object Cache for WordPress
  _yoast_wpseo_title: Redis Object Cache for WordPress
  _yoast_wpseo_metadesc: I've just helped release a fully-functional WordPress object
    cache powered by Redis! You should give it a try.
  _wpas_done_all: '1'
  yourls_shorturl: http://eam.me/ti
  _wpas_skip_1588757: '1'
  _wpas_skip_1588752: '1'
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1409910777;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:5518;}i:1;a:1:{s:2:"id";i:6329;}i:2;a:1:{s:2:"id";i:6506;}}}}
  keen_postview_count_this_24_hours: '7'
  keen_postview_count_this_7_days: '28'
  keen_postview_count_this_30_days: '76'
  _jetpack_dont_email_post_to_subs: '1'
  _yoast_wpseo_primary_category: ''
  _yoast_wpseo_content_score: '90'
  _wpcom_is_markdown: '1'
  _wpghs_github_path: _posts/2014-03-31-redis-object-cache-wordpress.md
author:
  login: eamann
  email: eric@eamann.com
  display_name: Eric
  first_name: Eric
  last_name: Mann
permalink: "/tech/redis-object-cache-wordpress/"
excerpt: I've just helped release a fully-functional WordPress object cache powered
  by Redis!  You should give it a try.
---
<p>I've been a huge fan of Redis since the first time we met at the <a title="The Keeping it Realtime Conference" href="http://2011.realtimeconf.com/">2011 Keeping it Realtime conference in Portland</a>.</p>
<p>The idea of a typed, in-memory database was hugely appealing.  I was still working at a Windows shop at the time, so I took a bit of time to make sure I could compile Redis to run on Windows in order to use it with IIS and my .Net apps.</p>
<p>Conveniently, I wasn't the only Windows developer working on this, and these is now a cool installer for the platform.</p>
<p>Fast forward a couple of years and I'm working full-time on WordPress.</p>
<h2>I had difficulties with Memcached</h2>
<p>Like Redis, Memcached didn't used to play well with Windows.  It took me a while to learn how to use it and, until a sysadmin friend of mine helped me wrap my head around it, I'd never been able to get Memcached working <em>on Linux</em> until a few months ago.</p>
<p>Mock me for having trouble with it - I really don't care.  Memcached was difficult to learn, so I never used it until recently.</p>
<p>Which also means most of my WordPress sites lacked true caching until recently.  Now, they all use <a title="Batcache" href="http://wordpress.org/plugins/batcache/">Batcache</a> with a Memcached back-end for page caching and Memcached itself for object caching.</p>
<p>The performance gains have been huge!</p>
<h2>I value simplicity</h2>
<p>On one of my servers, though, I'm already running Redis to power the data layer of a few realtime Node applications.  Installing a <em>second</em> in-memory data application seemed like overkill to me; I wanted to keep the server environment as simple as possible.</p>
<p>Rather than settle with Memcached (and duplicating the applications on the server), I took some time to investigate Redis-powered page caching on the server.</p>
<p><a title="Ludicrous Speed: WordPress Caching with Redis" href="https://ttmm.io/tech/ludicrous-speed-wordpress-caching-with-redis/">It worked!</a></p>
<p>I wanted to take things a bit further.  I had a hacked-together solution for page caching, but <em>still</em> lacked a meaningful object cache for my server.</p>
<h2>Redis Object Cache</h2>
<p>After a few weeks, I got tired of waiting for someone else to build one - I sat down in a Quiznos across from a WordPress meetup and wrote a hasty 0.1 version of a Redis object cache.</p>
<p>It was buggy, incomplete, and heavily derivative of <a title="WordPress Memcached Backend" href="https://github.com/tollmanz/wordpress-memcached-backend">a friend's Memcached object cache</a>.  But it worked!</p>
<p>Erick Hitter joined the project shortly thereafter and helped polish things up a bit.  We now have a fully-functional <a title="Redis Object Cache" href="http://wordpress.org/plugins/redis-object-cache/">1.0 release of the Redis Object Cache for WordPress</a>!</p>
<h2>Next Steps</h2>
<p>Right now, the plugin bundles the Predis library to allow PHP to interact with Redis.  I much prefer depending on the Pecl extension for Redis and, in a next version, will likely make this a hard requirement.</p>
<p>I also want to take the time to retrofit testing into the project.</p>
<p>The <em>biggest</em> next step, however, is to get people like you to give the new caching layer a spin.</p>
<p>If you've already got Memcached set up, I don't want you to switch. Memcached is perfectly capable of satisfying your caching needs.</p>
<p>If you've got Redis installed already, or if you're lacking any form of in-memory caching, then you should take the system through its paces.  I've <a title="Redis Object Cache" href="https://github.com/ericmann/Redis-Object-Cache">open-sourced it on GitHub</a>, so feel free to submit your successes or challenges there.  Or pull requests, if you have improvements to make.</p>
