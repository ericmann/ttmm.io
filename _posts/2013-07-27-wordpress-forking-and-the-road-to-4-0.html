---
layout: post
title: WordPress, Forking, and the Road to 4.0
date: 2013-07-27 13:41:39.000000000 -07:00
type: post
parent_id: '0'
published: true
password: ''
status: publish
categories:
- Technology
tags:
- development
- versions
- WordPress
meta:
  _yoast_wpseo_linkdex: '85'
  _edit_last: '2'
  _yoast_wpseo_focuskw: WordPress
  _yoast_wpseo_title: WordPress, Forking, and the Road to 4.0
  _yoast_wpseo_metadesc: WordPress 3.6 is around the corner. Versions 3.7 and 3.8
    are expected before 2013. Here's my vision for 3.9 and 4.0.
  _wpas_done_all: '1'
  yourls_shorturl: http://eam.me/qm
  _wpas_skip_1588757: '1'
  _zem_rp_image: empty
  _jetpack_related_posts_cache: a:1:{s:32:"8f6677c9d6b0f903e98ad32ec61f8deb";a:2:{s:7:"expires";i:1409932615;s:7:"payload";a:3:{i:0;a:1:{s:2:"id";i:6239;}i:1;a:1:{s:2:"id";i:6323;}i:2;a:1:{s:2:"id";i:6458;}}}}
  keen_postview_count_this_24_hours: '2'
  keen_postview_count_this_7_days: '20'
  keen_postview_count_this_30_days: '57'
  _wpghs_github_path: _posts/2013-07-27-wordpress-forking-and-the-road-to-4-0.md
author:
  login: eamann
  email: eric@eamann.com
  display_name: Eric
  first_name: Eric
  last_name: Mann
permalink: "/tech/wordpress-forking-and-the-road-to-4-0/"
---
<p>Today at <a title="WordCamp San Francisco" href="http://2013.sf.wordcamp.org/">WordCamp San Francisco</a>, <a title="Matt" href="http://ma.tt/">Matt Mullenweg</a> presented the plan for the upcoming 3.7 and 3.8 releases of WordPress.  In a nutshell, they will be small, developed in parallel, and (assuming all goes to plan) both released by the end of 2013.</p>
<p>This is hugely exciting!</p>
<p>The plan for these two releases makes sense and will help keep our code both robust and rapidly developed.  It also paves the way for what I think would be the ideal plan for WordPress 3.9 and 4.0.</p>
<h2><!--more-->An Existing Model</h2>
<p>When jQuery planned for a recent release, they forked their own project.  Instead of releasing just one product, the team simultaneously <a title="jQuery 2.0 Released" href="http://blog.jquery.com/2013/04/18/jquery-2-0-released/">released two versions</a>: 1.9 and 2.0.</p>
<p>Both branches[ref]Since both versions of jQuery are maintained by the same team, it's not a <em>true</em> fork.[/ref] of the project implement the same API, but the 2.X branch contains several speed improvements: namely, dropping compatibility support with older browsers and removing deprecated functionality:</p>
<blockquote><p>You asked for it, you got it: jQuery 2.0 has arrived!</p>
<p>As promised, this version leaves behind the older Internet Explorer 6, 7, and 8 browsers. In return it is smaller, faster, and can be used in JavaScript environments where the code needed for old-IE compatibility often causes problems of its own.</p></blockquote>
<p>Developers now have a clear choice when building their projects - maintain support for older browsers if necessary, or upgrade project requirements and leverage a faster framework.</p>
<h2>WordPress</h2>
<p>There has been a lot of talk about <a title="WORDPRESS AT 10: TIME FOR A FORK?" href="http://designisphilosophy.com/wordpress/wordpress-at-10-time-for-a-fork">forking WordPress</a> in recent months.  I'm suggesting a similar, albeit slightly different approach.</p>
<p>WordPress doesn't need any more schisms in the community.  Forking the project to create a separate, discrete application would be a huge disservice to developers, clients, customers, and every variation of stakeholder in between.</p>
<p>Instead, I think we should follow jQuery's example and release two, separate, complimentary <em>branches</em> of WordPress at the same time.</p>
<h3>Background</h3>
<p>At the WordPress Community Summit last October, Matt presented a fairly damning slide detailing WordPress' system performance over the history of our various releases.  Despite every claim that new releases of WordPress are faster than their predecessors, <em>only one release actually lived up to that claim</em>.</p>
<p>Every subsequent release is faster not necessarily due to optimized code, but due to the fact that the underlying <em>hardware</em> continues to advance.</p>
<p>WordPress today is a robust application framework.  But to use that application framework, we have to drag along the collective bloat of 50+ releases worth of backwards compatibility, huge swaths of deprecated (or poorly designed) functionality, and workarounds for features lacking in older versions of PHP.</p>
<p>Dropping much of this cruft - while still maintaining the current API - would be a huge gain.</p>
<h2>The Road Ahead</h2>
<p>After WordPress 3.8 is out, I propose we work in two groups:</p>
<ol>
<li><span style="line-height: 13px;">The collection of teams is responsible for building the 3.9 API</span></li>
<li>A team to walk through the code base and upgrade where possible</li>
</ol>
<p>When we release 3.9 and 4.0, the APIs should be <em>identical</em>.  Any code written to run on WordPress 3.9 (with no deprecated notices, of course) will also run on 4.0.  The differences between the versions would include;</p>
<ul>
<li><span style="line-height: 13px;">Upgrading the minimum PHP version requirement (allowing the use of <a title="PHP Namespaces" href="http://www.php.net/manual/en/language.namespaces.rationale.php">namespaces</a>, <a title="PHP Closures" href="http://php.net/manual/en/class.closure.php">closures</a>, and possibly <a title="PHP Traits" href="http://php.net/manual/en/language.oop5.traits.php">traits</a>)</span></li>
<li>Removing all functionality deprecated before version 3.9</li>
<li>Refactoring bottlenecks in code (i.e. <tt>$wpdb</tt>) for performance</li>
</ul>
<h2>The Future</h2>
<p>When WordPress 3.9 and 4.0 are released, we will keep minor releases in sync (possible through 3.10 and 4.1 and beyond).  This will allow developers to build code utilizing newer PHP features by making the 4.0 release of WordPress a requirement.  It will also allow end-users to keep using WordPress on an un-upgraded server.</p>
<p>However, the dual release will also put pressure on developers, clients, <em>and hosts</em> to begin upgrading their infrastructure to support newer requirements - but without making the upgrade a hard requirement.</p>
<h2>Why?</h2>
<p>I write code <a title="10up" href="http://10up.com">for a living</a>.  Most of my projects are deployed on servers that play well with newer APIs or boxes which I can control myself.  As a result, I can already use advanced PHP features in my projects (and leverage certain performance benefits at the same time).</p>
<p>I also <a title="Eric Mann on WordPress.org" href="http://profiles.wordpress.org/ericmann">give code</a> <a title="Eric Mann on GitHub" href="https://github.com/ericmann">away for fun</a> - but that code has to function back to the <a title="WordPress Requirements" href="http://wordpress.org/about/requirements/">minimum system requirements for WordPress</a>.  I want to present a clear path for upgrading these requirements, one that's beneficial to both developers <em>and </em>our customers.</p>
<p>I think a 3.9/4.0 dual release is the way to do that - and I'm more than happy to help make this a reality.  What do <em>you</em> think?</p>
