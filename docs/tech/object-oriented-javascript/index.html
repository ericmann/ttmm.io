<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
        <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Object-Oriented JavaScript | Things that Matter Most</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Object-Oriented JavaScript" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="First a caveat: JavaScript is a prototype-based language, not an object-oriented language.  Now that we have an understanding of that very important fact, let&#39;s learn how to use JavaScript as if it were object-oriented. A few weeks ago, I was asked to teach a couple of my colleagues how to code with JavaScript.  We&#39;re building a cross-browser plug-in that&#39;s meant to interface with an external device.  The plug-in itself is written in C++, but the entire API is written in JavaScript.  I was right at home, making API calls from within the scripts that drive the web-based UI.  But my colleagues weren&#39;t.  Their first pass at converting their code from a real object-oriented language to JavaScript was ... well ... frightening. Rather than just take over, though, I wanted to make it easier for them to work with the code.  The more they can write, the less I have to.  It&#39;s a winning scenario for me, but I needed to either break them of their stricter OOP paradigm or find a way to bend JavaScript to fit them.  In the end, it was easier to bend the tool to fit the person than to bend the person to fit the tool. So I built a base &quot;class&quot; through which I could make my UI-bound API calls.  Then I built a template for a set of &quot;classes&quot; that would &quot;inherit&quot; the base &quot;class&quot; to allow my colleagues to work.  They could still think in terms of OOP, while I could use my jQuery and regular JavaScript magic on the client side.  (I actually tried teaching jQuery first ... but apparently the jump from Pascal to jQuery is too big for most people to make.) Class Structure I put &quot;class&quot; in quotes because there aren&#39;t really any classes in JavaScript.  There are objects, which are defined by functions, and which can contain other functions.  Really, they can almost be considered classes, but not in the traditional sense of the term.  There&#39;s also no real inheritance between these pseudo-classes.  You can achieve something similar with the prototype property of an object, though.  And that&#39;s what we&#39;ll do. There are two ways you can structure an object so it will mimic a class.  One way uses JSON to construct the object.  The other uses a function constructor.  Both have their uses, but I&#39;ve found the choice between which form to use is more a personal preference than anything else. JSON When you use JSON, you&#39;re basically writing the object out as an associative array.  Each entry is defined by a key-value pair: the keys define property and method names, the values define either properties or functions.  The simplest JSON-defined object takes a form like this: var MyJSONObject = { &#39;HasProperty&#39; : true, &#39;SayHello&#39;: function() { alert(&#39;Hello!&#39;); } } This defines an object with a single property, [cci lang=&quot;javascript&quot;]HasProperty[/cci], and a single method, [cci lang=&quot;javascript&quot;]SayHello[/cci], that just alerts &quot;Hello&quot; with a popup. Very basic, but where are our private variables? Where are our private methods? Remember, JavaScript doesn&#39;t understand public versus private, but it does understand scope. To have private variables and private methods, they must be defined within the scope of the object itself so that they don&#39;t clutter up the global namespace. To do this, we change our object slightly: var MyJSONObject = function() { var _privateVar = &quot;This is private&quot;;&lt;/p&gt; var _privateMethod = function() { alert(&#39;Privately say hello!&#39;); }; return { &#39;HasProperty&#39; : true, &#39;SayHello&#39;: function() { _privateMethod(); } }; }();&lt;/code&gt; We still have a public method and a public property, but both [cci lang=&quot;javascript&quot;]_privateVar[/cci] and [cci lang=&quot;javascript&quot;]_privateMethod[/cci] are within the local scope of the object - they can be invoked by other members of the object, but not by external methods or objects. They are private. Neat trick, huh? In both of these cases, the object is built automatically. You now have an object called [cci lang=&quot;javascript&quot;]MyJSONObject[/cci] and can use it however you want. Or, you can create a new instance of the object by calling [cci lang=&quot;javascript&quot;]var MyOtherObject = new MyJSONObject;[/cci]. Function Constructor For developers transitioning from some other system, the function constructor can be a bit easier because it doesn&#39;t have the unfamiliar notation. Here&#39;s our same basic example, but using a function as the constructor instead: function MyConstObject() { this.HasProperty = true; this.SayHello = function() { alert(&#39;Hello!&#39;); } } The [cci lang=&quot;javascript&quot;]this[/cci] keyword in this situation is a reference to the object itself. So if you were to create an instance of this object ([cci lang=&quot;javascript&quot;]var MyOtherObject = new MyConstObject;[/cci]) you would reference these properties and methods in a fashion familiar to anyone who&#39;s worked with .Net: [cci lang=&quot;javascript&quot;]MyOtherObject.HasProperty[/cci]. For those of you used to working with PHP, the . would be similar to a -&gt; when used to reference a member method or property of a class instance. Now, if you want to add private methods and properties, you once again pay attention to their scope and make them internal to the object: function MyConstObject() { var _privateVar = &quot;This is private&quot;;&lt;/p&gt; function _privateMethod() { alert(&#39;Privately say hello!&#39;); } this.HasProperty = true; this.SayHello = function() { alert(&#39;Hello!&#39;); } }&lt;/code&gt; Simple, huh? Inheritance As I mentioned before, there&#39;s no real inheritance model with JavaScript. However, there is a very handy prototype model. When you call a property of an object, the JavaScript engine first looks at that object. If the property isn&#39;t there, it then looks at the prototype property and tries to see if the object&#39;s prototype has the requested property. So if you really want to define a parent class, the closest you can get to &quot;inherits&quot; is assigning a prototype. Let&#39;s use cars as an example. First you have your &quot;base class:&quot; function car() { this.Wheels = 4; this.Doors = 4; this.Cylinders = 4; this.Start = function() { // Start the car! } } This is a very basic class that defines a car with four wheels, four doors, and four cylinders. Really, just an average economy car. You can actually create an instance of this class and call it &quot;Economy&quot;: [cci lang=&quot;javascript&quot;]var Economy = new car;[/cci]. But let&#39;s say we want to have a sportscar inherit this class. It will be mostly the same, but will only have two doors and will have eight cylinders. For all intents and purposes, though, everything else is the same. We need to define the sportscar class, but we also need to define its prototype: sportscar.prototype = new car; sportscar.prototype.constructor = sportscar; function sportscar() { this.Doors = 2; this.Cylinders = 8; } Now we can create an instance of this class and call it &quot;Mustang&quot;: [cci lang=&quot;javascript&quot;]var Mustang = new sportscar;[/cci]. If you run all of this on a page in your website (or in the console in Firebug), you&#39;ll see that Economy and Mustang are both objects with the same number of properties and methods, but the Economy car has more doors, and the Mustang has more cylinders. Both objects &quot;inherit&quot; from the same base class. Using this practice, you can dramatically increase code re-use and lower the learning curve for developers coming from more structured languages like C#. An exercise for you to complete on your own: what would you have to change with the prototypical inheritance model to support objects constructed using JSON? It&#39;s not much different, but I want you to work a little ..." />
<meta property="og:description" content="First a caveat: JavaScript is a prototype-based language, not an object-oriented language.  Now that we have an understanding of that very important fact, let&#39;s learn how to use JavaScript as if it were object-oriented. A few weeks ago, I was asked to teach a couple of my colleagues how to code with JavaScript.  We&#39;re building a cross-browser plug-in that&#39;s meant to interface with an external device.  The plug-in itself is written in C++, but the entire API is written in JavaScript.  I was right at home, making API calls from within the scripts that drive the web-based UI.  But my colleagues weren&#39;t.  Their first pass at converting their code from a real object-oriented language to JavaScript was ... well ... frightening. Rather than just take over, though, I wanted to make it easier for them to work with the code.  The more they can write, the less I have to.  It&#39;s a winning scenario for me, but I needed to either break them of their stricter OOP paradigm or find a way to bend JavaScript to fit them.  In the end, it was easier to bend the tool to fit the person than to bend the person to fit the tool. So I built a base &quot;class&quot; through which I could make my UI-bound API calls.  Then I built a template for a set of &quot;classes&quot; that would &quot;inherit&quot; the base &quot;class&quot; to allow my colleagues to work.  They could still think in terms of OOP, while I could use my jQuery and regular JavaScript magic on the client side.  (I actually tried teaching jQuery first ... but apparently the jump from Pascal to jQuery is too big for most people to make.) Class Structure I put &quot;class&quot; in quotes because there aren&#39;t really any classes in JavaScript.  There are objects, which are defined by functions, and which can contain other functions.  Really, they can almost be considered classes, but not in the traditional sense of the term.  There&#39;s also no real inheritance between these pseudo-classes.  You can achieve something similar with the prototype property of an object, though.  And that&#39;s what we&#39;ll do. There are two ways you can structure an object so it will mimic a class.  One way uses JSON to construct the object.  The other uses a function constructor.  Both have their uses, but I&#39;ve found the choice between which form to use is more a personal preference than anything else. JSON When you use JSON, you&#39;re basically writing the object out as an associative array.  Each entry is defined by a key-value pair: the keys define property and method names, the values define either properties or functions.  The simplest JSON-defined object takes a form like this: var MyJSONObject = { &#39;HasProperty&#39; : true, &#39;SayHello&#39;: function() { alert(&#39;Hello!&#39;); } } This defines an object with a single property, [cci lang=&quot;javascript&quot;]HasProperty[/cci], and a single method, [cci lang=&quot;javascript&quot;]SayHello[/cci], that just alerts &quot;Hello&quot; with a popup. Very basic, but where are our private variables? Where are our private methods? Remember, JavaScript doesn&#39;t understand public versus private, but it does understand scope. To have private variables and private methods, they must be defined within the scope of the object itself so that they don&#39;t clutter up the global namespace. To do this, we change our object slightly: var MyJSONObject = function() { var _privateVar = &quot;This is private&quot;;&lt;/p&gt; var _privateMethod = function() { alert(&#39;Privately say hello!&#39;); }; return { &#39;HasProperty&#39; : true, &#39;SayHello&#39;: function() { _privateMethod(); } }; }();&lt;/code&gt; We still have a public method and a public property, but both [cci lang=&quot;javascript&quot;]_privateVar[/cci] and [cci lang=&quot;javascript&quot;]_privateMethod[/cci] are within the local scope of the object - they can be invoked by other members of the object, but not by external methods or objects. They are private. Neat trick, huh? In both of these cases, the object is built automatically. You now have an object called [cci lang=&quot;javascript&quot;]MyJSONObject[/cci] and can use it however you want. Or, you can create a new instance of the object by calling [cci lang=&quot;javascript&quot;]var MyOtherObject = new MyJSONObject;[/cci]. Function Constructor For developers transitioning from some other system, the function constructor can be a bit easier because it doesn&#39;t have the unfamiliar notation. Here&#39;s our same basic example, but using a function as the constructor instead: function MyConstObject() { this.HasProperty = true; this.SayHello = function() { alert(&#39;Hello!&#39;); } } The [cci lang=&quot;javascript&quot;]this[/cci] keyword in this situation is a reference to the object itself. So if you were to create an instance of this object ([cci lang=&quot;javascript&quot;]var MyOtherObject = new MyConstObject;[/cci]) you would reference these properties and methods in a fashion familiar to anyone who&#39;s worked with .Net: [cci lang=&quot;javascript&quot;]MyOtherObject.HasProperty[/cci]. For those of you used to working with PHP, the . would be similar to a -&gt; when used to reference a member method or property of a class instance. Now, if you want to add private methods and properties, you once again pay attention to their scope and make them internal to the object: function MyConstObject() { var _privateVar = &quot;This is private&quot;;&lt;/p&gt; function _privateMethod() { alert(&#39;Privately say hello!&#39;); } this.HasProperty = true; this.SayHello = function() { alert(&#39;Hello!&#39;); } }&lt;/code&gt; Simple, huh? Inheritance As I mentioned before, there&#39;s no real inheritance model with JavaScript. However, there is a very handy prototype model. When you call a property of an object, the JavaScript engine first looks at that object. If the property isn&#39;t there, it then looks at the prototype property and tries to see if the object&#39;s prototype has the requested property. So if you really want to define a parent class, the closest you can get to &quot;inherits&quot; is assigning a prototype. Let&#39;s use cars as an example. First you have your &quot;base class:&quot; function car() { this.Wheels = 4; this.Doors = 4; this.Cylinders = 4; this.Start = function() { // Start the car! } } This is a very basic class that defines a car with four wheels, four doors, and four cylinders. Really, just an average economy car. You can actually create an instance of this class and call it &quot;Economy&quot;: [cci lang=&quot;javascript&quot;]var Economy = new car;[/cci]. But let&#39;s say we want to have a sportscar inherit this class. It will be mostly the same, but will only have two doors and will have eight cylinders. For all intents and purposes, though, everything else is the same. We need to define the sportscar class, but we also need to define its prototype: sportscar.prototype = new car; sportscar.prototype.constructor = sportscar; function sportscar() { this.Doors = 2; this.Cylinders = 8; } Now we can create an instance of this class and call it &quot;Mustang&quot;: [cci lang=&quot;javascript&quot;]var Mustang = new sportscar;[/cci]. If you run all of this on a page in your website (or in the console in Firebug), you&#39;ll see that Economy and Mustang are both objects with the same number of properties and methods, but the Economy car has more doors, and the Mustang has more cylinders. Both objects &quot;inherit&quot; from the same base class. Using this practice, you can dramatically increase code re-use and lower the learning curve for developers coming from more structured languages like C#. An exercise for you to complete on your own: what would you have to change with the prototypical inheritance model to support objects constructed using JSON? It&#39;s not much different, but I want you to work a little ..." />
<meta property="og:site_name" content="Things that Matter Most" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-12-17T08:00:34-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Object-Oriented JavaScript" />
<meta name="twitter:site" content="@" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Object-Oriented JavaScript","dateModified":"2010-12-17T08:00:34-08:00","datePublished":"2010-12-17T08:00:34-08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/tech/object-oriented-javascript/"},"url":"/tech/object-oriented-javascript/","description":"First a caveat: JavaScript is a prototype-based language, not an object-oriented language.  Now that we have an understanding of that very important fact, let&#39;s learn how to use JavaScript as if it were object-oriented. A few weeks ago, I was asked to teach a couple of my colleagues how to code with JavaScript.  We&#39;re building a cross-browser plug-in that&#39;s meant to interface with an external device.  The plug-in itself is written in C++, but the entire API is written in JavaScript.  I was right at home, making API calls from within the scripts that drive the web-based UI.  But my colleagues weren&#39;t.  Their first pass at converting their code from a real object-oriented language to JavaScript was ... well ... frightening. Rather than just take over, though, I wanted to make it easier for them to work with the code.  The more they can write, the less I have to.  It&#39;s a winning scenario for me, but I needed to either break them of their stricter OOP paradigm or find a way to bend JavaScript to fit them.  In the end, it was easier to bend the tool to fit the person than to bend the person to fit the tool. So I built a base &quot;class&quot; through which I could make my UI-bound API calls.  Then I built a template for a set of &quot;classes&quot; that would &quot;inherit&quot; the base &quot;class&quot; to allow my colleagues to work.  They could still think in terms of OOP, while I could use my jQuery and regular JavaScript magic on the client side.  (I actually tried teaching jQuery first ... but apparently the jump from Pascal to jQuery is too big for most people to make.) Class Structure I put &quot;class&quot; in quotes because there aren&#39;t really any classes in JavaScript.  There are objects, which are defined by functions, and which can contain other functions.  Really, they can almost be considered classes, but not in the traditional sense of the term.  There&#39;s also no real inheritance between these pseudo-classes.  You can achieve something similar with the prototype property of an object, though.  And that&#39;s what we&#39;ll do. There are two ways you can structure an object so it will mimic a class.  One way uses JSON to construct the object.  The other uses a function constructor.  Both have their uses, but I&#39;ve found the choice between which form to use is more a personal preference than anything else. JSON When you use JSON, you&#39;re basically writing the object out as an associative array.  Each entry is defined by a key-value pair: the keys define property and method names, the values define either properties or functions.  The simplest JSON-defined object takes a form like this: var MyJSONObject = { &#39;HasProperty&#39; : true, &#39;SayHello&#39;: function() { alert(&#39;Hello!&#39;); } } This defines an object with a single property, [cci lang=&quot;javascript&quot;]HasProperty[/cci], and a single method, [cci lang=&quot;javascript&quot;]SayHello[/cci], that just alerts &quot;Hello&quot; with a popup. Very basic, but where are our private variables? Where are our private methods? Remember, JavaScript doesn&#39;t understand public versus private, but it does understand scope. To have private variables and private methods, they must be defined within the scope of the object itself so that they don&#39;t clutter up the global namespace. To do this, we change our object slightly: var MyJSONObject = function() { var _privateVar = &quot;This is private&quot;;&lt;/p&gt; var _privateMethod = function() { alert(&#39;Privately say hello!&#39;); }; return { &#39;HasProperty&#39; : true, &#39;SayHello&#39;: function() { _privateMethod(); } }; }();&lt;/code&gt; We still have a public method and a public property, but both [cci lang=&quot;javascript&quot;]_privateVar[/cci] and [cci lang=&quot;javascript&quot;]_privateMethod[/cci] are within the local scope of the object - they can be invoked by other members of the object, but not by external methods or objects. They are private. Neat trick, huh? In both of these cases, the object is built automatically. You now have an object called [cci lang=&quot;javascript&quot;]MyJSONObject[/cci] and can use it however you want. Or, you can create a new instance of the object by calling [cci lang=&quot;javascript&quot;]var MyOtherObject = new MyJSONObject;[/cci]. Function Constructor For developers transitioning from some other system, the function constructor can be a bit easier because it doesn&#39;t have the unfamiliar notation. Here&#39;s our same basic example, but using a function as the constructor instead: function MyConstObject() { this.HasProperty = true; this.SayHello = function() { alert(&#39;Hello!&#39;); } } The [cci lang=&quot;javascript&quot;]this[/cci] keyword in this situation is a reference to the object itself. So if you were to create an instance of this object ([cci lang=&quot;javascript&quot;]var MyOtherObject = new MyConstObject;[/cci]) you would reference these properties and methods in a fashion familiar to anyone who&#39;s worked with .Net: [cci lang=&quot;javascript&quot;]MyOtherObject.HasProperty[/cci]. For those of you used to working with PHP, the . would be similar to a -&gt; when used to reference a member method or property of a class instance. Now, if you want to add private methods and properties, you once again pay attention to their scope and make them internal to the object: function MyConstObject() { var _privateVar = &quot;This is private&quot;;&lt;/p&gt; function _privateMethod() { alert(&#39;Privately say hello!&#39;); } this.HasProperty = true; this.SayHello = function() { alert(&#39;Hello!&#39;); } }&lt;/code&gt; Simple, huh? Inheritance As I mentioned before, there&#39;s no real inheritance model with JavaScript. However, there is a very handy prototype model. When you call a property of an object, the JavaScript engine first looks at that object. If the property isn&#39;t there, it then looks at the prototype property and tries to see if the object&#39;s prototype has the requested property. So if you really want to define a parent class, the closest you can get to &quot;inherits&quot; is assigning a prototype. Let&#39;s use cars as an example. First you have your &quot;base class:&quot; function car() { this.Wheels = 4; this.Doors = 4; this.Cylinders = 4; this.Start = function() { // Start the car! } } This is a very basic class that defines a car with four wheels, four doors, and four cylinders. Really, just an average economy car. You can actually create an instance of this class and call it &quot;Economy&quot;: [cci lang=&quot;javascript&quot;]var Economy = new car;[/cci]. But let&#39;s say we want to have a sportscar inherit this class. It will be mostly the same, but will only have two doors and will have eight cylinders. For all intents and purposes, though, everything else is the same. We need to define the sportscar class, but we also need to define its prototype: sportscar.prototype = new car; sportscar.prototype.constructor = sportscar; function sportscar() { this.Doors = 2; this.Cylinders = 8; } Now we can create an instance of this class and call it &quot;Mustang&quot;: [cci lang=&quot;javascript&quot;]var Mustang = new sportscar;[/cci]. If you run all of this on a page in your website (or in the console in Firebug), you&#39;ll see that Economy and Mustang are both objects with the same number of properties and methods, but the Economy car has more doors, and the Mustang has more cylinders. Both objects &quot;inherit&quot; from the same base class. Using this practice, you can dramatically increase code re-use and lower the learning curve for developers coming from more structured languages like C#. An exercise for you to complete on your own: what would you have to change with the prototypical inheritance model to support objects constructed using JSON? It&#39;s not much different, but I want you to work a little ...","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    

    <!-- Site Favicon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" type="image/png" />

    <!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600,600i|Karla:400,400i,700,700i" rel="stylesheet">

    <!-- CSS Styles -->
    <link href="/assets/css/style.css" rel="stylesheet">
</head>



<body class="layout-post">
    <div id="page" class="site">
        <header id="masthead" class="site-header">
    <div class="site-header-wrap">
        <div class="site-header-inside">

            <div class="site-branding">
                
                <p class="profile">
                    <a href="/">
                        <img src="/assets/images/authorimage.jpg" alt="'s Picture"
                            class="avatar" />
                    </a>
                </p>
                <div class="site-identity">
                    
                    <h1 class="site-title">
                        <a href="/">Things that Matter Most</a>
                    </h1>
                    
                    
                    <p class="site-description">Things that Matter Most</p>
                    
                </div><!-- .site-identity -->
                
                <button id="menu-toggle" class="menu-toggle"><span class="screen-reader-text">Main Menu</span><span
                        class="icon-menu" aria-hidden="true"></span></button>
            </div><!-- .site-branding -->

            <nav id="main-navigation" class="site-navigation" aria-label="Main Navigation">
                <div class="site-nav-wrap">
                    <div class="site-nav-inside">
                    <ul class="menu">
                        
                        
                        
                        <li class="menu-item "><a href="/">Home</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/about">About</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/contact">Contact Me</a></li>
                        
                        
                        
                        <li class="menu-item "><a href="/search">Search</a></li>
                        
                    </ul>
                    <p class="social-links">
    
    <a href="https://twitter.com/ericmann" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    
    <a href="https://github.com/ericmann" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    
    
    
    
    
    <a href="https://www.linkedin.com/in/ericallenmann" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
<!--
Font Awesome Free 5.5.0 by @fontawesome - https://fontawesome.com
License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
-->
    </a>
    
    
    
</p>
                    </div><!-- .site-nav-inside -->
                </div><!-- .site-nav-wrap -->
            </nav><!-- .site-navigation -->

        </div><!-- .site-header-inside -->
    </div><!-- .site-header-wrap -->
</header><!-- .site-header -->
        <div id="content" class="site-content fadeInDown delay_075s">
            <div class="inner-wide">
                <main id="main" class="site-main">

    <article class="post-full inner">

        <header class="post-header">
            <div class="post-meta">
                <time class="post-date" datetime="2010-12-17">
                    December 17, 2010
                </time>
            </div><!-- .post-meta -->
            <h1 class="post-title">Object-Oriented JavaScript</h1>
        </header><!-- .post-header -->

        
        <div class="post-content">
            <p>First a caveat: JavaScript is a <em>prototype-based</em> language, not an object-oriented language.  Now that we have an understanding of that very important fact, let's learn how to use JavaScript as if it were object-oriented.</p>
<p>A few weeks ago, I was asked to teach a couple of my colleagues how to code with JavaScript.  We're building a cross-browser plug-in that's meant to interface with an external device.  The plug-in itself is written in C++, but the entire API is written in JavaScript.  I was right at home, making API calls from within the scripts that drive the web-based UI.  But my colleagues weren't.  Their first pass at converting their code from a real object-oriented language to JavaScript was ... well ... frightening.</p>
<p>Rather than just take over, though, I wanted to make it easier for them to work with the code.  The more they can write, the less I have to.  It's a winning scenario for me, but I needed to either break them of their stricter OOP paradigm or find a way to bend JavaScript to fit them.  In the end, it was easier to bend the tool to fit the person than to bend the person to fit the tool.</p>
<p>So I built a base "class" through which I could make my UI-bound API calls.  Then I built a template for a set of "classes" that would "inherit" the base "class" to allow my colleagues to work.  They could still think in terms of OOP, while I could use my jQuery and regular JavaScript magic on the client side.  (I actually tried teaching jQuery first ... but apparently the jump from Pascal to jQuery is too big for most people to make.)</p>
<h2>Class Structure</h2>
<p>I put "class" in quotes because there aren't really any classes in JavaScript.  There are objects, which are defined by functions, and which can contain other functions.  Really, they can <em>almost</em> be considered classes, but not in the traditional sense of the term.  There's also no <em>real</em> inheritance between these pseudo-classes.  You can achieve something similar with the <strong>prototype</strong> property of an object, though.  And that's what we'll do.</p>
<p>There are two ways you can structure an object so it will mimic a class.  One way uses JSON to construct the object.  The other uses a function constructor.  Both have their uses, but I've found the choice between which form to use is more a personal preference than anything else.</p>
<h2>JSON</h2>
<p>When you use JSON, you're basically writing the object out as an associative array.  Each entry is defined by a key-value pair: the keys define property and method names, the values define either properties or functions.  The simplest JSON-defined object takes a form like this:</p>
<p><code lang="javascript">var MyJSONObject = {<br />
  'HasProperty' : true,<br />
  'SayHello': function() {<br />
    alert('Hello!');<br />
  }<br />
}</code></p>
<p>This defines an object with a single property, [cci lang="javascript"]HasProperty[/cci], and a single method, [cci lang="javascript"]SayHello[/cci], that just alerts "Hello" with a popup. Very basic, but where are our private variables? Where are our private methods?</p>
<p>Remember, JavaScript doesn't understand public versus private, but it does understand <em>scope</em>. To have private variables and private methods, they must be defined <em>within the scope of the object itself</em> so that they don't clutter up the global namespace. To do this, we change our object slightly:</p>
<p><code lang="javascript">var MyJSONObject = function() {<br />
  var _privateVar = "This is private";</p>
<p>  var _privateMethod = function() {<br />
    alert('Privately say hello!');<br />
  };</p>
<p>  return {<br />
    'HasProperty' : true,<br />
    'SayHello': function() {<br />
      _privateMethod();<br />
    }<br />
  };<br />
}();</code></p>
<p>We still have a public method and a public property, but both [cci lang="javascript"]_privateVar[/cci] and [cci lang="javascript"]_privateMethod[/cci] are within the local scope of the object - they can be invoked by other members of the object, but not by external methods or objects. They are private. Neat trick, huh?</p>
<p>In both of these cases, the object is built automatically. You now have an object called [cci lang="javascript"]MyJSONObject[/cci] and can use it however you want. Or, you can create a new instance of the object by calling [cci lang="javascript"]var MyOtherObject = new MyJSONObject;[/cci].</p>
<h2>Function Constructor</h2>
<p>For developers transitioning from some other system, the function constructor can be a bit easier because it doesn't have the unfamiliar notation. Here's our same basic example, but using a function as the constructor instead:</p>
<p><code lang="javascript">function MyConstObject() {<br />
  this.HasProperty = true;<br />
  this.SayHello = function() {<br />
    alert('Hello!');<br />
  }<br />
}</code></p>
<p>The [cci lang="javascript"]this[/cci] keyword in this situation is a reference to the object itself. So if you were to create an instance of this object ([cci lang="javascript"]var MyOtherObject = new MyConstObject;[/cci]) you would reference these properties and methods in a fashion familiar to anyone who's worked with .Net: [cci lang="javascript"]MyOtherObject.HasProperty[/cci].</p>
<p>For those of you used to working with PHP, the . would be similar to a -&gt; when used to reference a member method or property of a class instance.</p>
<p>Now, if you want to add private methods and properties, you once again pay attention to their <em>scope</em> and make them internal to the object:</p>
<p><code lang="javascript">function MyConstObject() {<br />
  var _privateVar = "This is private";</p>
<p>  function _privateMethod() {<br />
    alert('Privately say hello!');<br />
  }</p>
<p>  this.HasProperty = true;<br />
  this.SayHello = function() {<br />
    alert('Hello!');<br />
  }<br />
}</code></p>
<p>Simple, huh?</p>
<h2>Inheritance</h2>
<p>As I mentioned before, there's no real <em>inheritance</em> model with JavaScript. However, there is a very handy <em>prototype</em> model.</p>
<p>When you call a property of an object, the JavaScript engine first looks at that object. If the property isn't there, it then looks at the <em>prototype</em> property and tries to see if the object's prototype has the requested property. So if you really want to define a parent class, the closest you can get to "inherits" is assigning a prototype.</p>
<p>Let's use cars as an example. First you have your "base class:"</p>
<p><code lang="javascript">function car() {<br />
  this.Wheels = 4;<br />
  this.Doors = 4;<br />
  this.Cylinders = 4;<br />
  this.Start = function() {<br />
    // Start the car!<br />
  }<br />
}</code></p>
<p>This is a very basic class that defines a car with four wheels, four doors, and four cylinders. Really, just an average economy car. You can actually create an instance of this class and call it "Economy": [cci lang="javascript"]var Economy = new car;[/cci].</p>
<p>But let's say we want to have a sportscar inherit this class. It will be mostly the same, but will only have two doors and will have eight cylinders. For all intents and purposes, though, everything else is the same. We need to define the sportscar class, but we also need to define its prototype:</p>
<p><code lang="javascript">sportscar.prototype = new car;<br />
sportscar.prototype.constructor = sportscar;<br />
function sportscar() {<br />
  this.Doors = 2;<br />
  this.Cylinders = 8;<br />
}</code></p>
<p>Now we can create an instance of this class and call it "Mustang": [cci lang="javascript"]var Mustang = new sportscar;[/cci].</p>
<p>If you run all of this on a page in your website (or in the console in Firebug), you'll see that Economy and Mustang are both objects with the same number of properties and methods, but the Economy car has more doors, and the Mustang has more cylinders.</p>
<p>Both objects "inherit" from the same base class.</p>
<p>Using this practice, you can dramatically increase code re-use and lower the learning curve for developers coming from more structured languages like C#. An exercise for you to complete on your own: what would you have to change with the prototypical inheritance model to support objects constructed using JSON? It's not much different, but I want you to work a little ...</p>

        </div>
        <footer class="post-footer">
            <div class="post-share">
                <span class="post-share-title">Share:</span>
                <a target="_blank"
                    href="https://twitter.com/share?text=Object-Oriented+JavaScript&amp;url=https://ttmm.iotech/object-oriented-javascript/">Twitter</a>
                <a target="_blank"
                    href="https://www.facebook.com/sharer/sharer.php?u=https://ttmm.iotech/object-oriented-javascript/">Facebook</a>
            </div><!-- .share-post -->
            
            <p class="post-cats">
                <span class="post-share-title">Filed under </span>
                <a href="/categories/index.html#Technology"
                    rel="category">Technology</a>
                
            </p>
            
            
            <p class="post-tags">
                <span class="post-share-title">Tagged with </span>
                <a href="/tags/index.html#javascript"
                    rel="tag">javascript</a>
                
            </p>
            
        </footer>
        
    </article>
    
    <section class="read-next inner">
        <h2 class="read-next-title">Read Next</h2>
        
        <article class="post">
            <header class="post-header">
                <div class="post-meta">
                    <time class="published" datetime="December 10, 2010">December 10, 2010</time>
                </div>
                <h3 class="post-title"><a href="/tech/consider-the-source/">Consider the Source</a>
                </h3>
            </header>
        </article>
        
        
        <article class="post">
            <header class="post-header">
                <div class="post-meta">
                    <time class="published" datetime="December 20, 2010">December 20, 2010</time>
                </div>
                <h3 class="post-title"><a href="/faith/fear/">Fear</a></h3>
            </header>
        </article>
        
    </section><!-- .read-next -->

</main><!-- .site-main -->


                

                
                <footer id="colophon" class="site-footer">
    <p class="site-info inner">
        <a href="#">Things that Matter Most</a> &copy; 2021. Royce theme by
        <a target="_blank" href="https://justgoodthemes.com/">JustGoodThemes</a>.
        <br />
        Powered by <a target="_blank" href="https://jekyllrb.com/">Jekyll</a>.
    </p>
    <a id="back-to-top" class="back-to-top" href="#page">
        <span class="icon-arrow-up" aria-hidden="true"></span>
        <span class="screen-reader-text">Back to top</span>
    </a>
</footer><!-- .site-footer -->
            </div><!-- .inner-wide -->
        </div><!-- .site-content -->
    </div><!-- .site -->

    
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4156949-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-4156949-6', { 'anonymize_ip': true });
  </script>

    <!-- Javascript Assets -->
    <script src="/assets/js/jquery-3.3.1.min.js"></script>
    <script src="/assets/js/plugins.js"></script>
    <script src="/assets/js/custom.js"></script>

</body>

</html>